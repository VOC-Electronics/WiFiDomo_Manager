{% extends "layout.html" %}
{% block head %}
  {{ super() }}
  <style type=text/css>
    h1 { margin: 0 0 10px 0; background: url({{ url_for('static', filename='voc/logo_wifidomo.png') }}) no-repeat center; width 880px;height: 200px; }
    h1 span, p.tagline { display: none;
  </style>
  <script type=text/javascript>
    $(function() {
      $('h1').bind('mousedown contextmenu', function(event) {
        if (event.button != 2)
          return;
        var box = $('div.logohint');
        if (!box.is(':visible'))
          box.animate({'height': 'show', 'opacity': 'show'}, 100);
        event.preventDefault();
        event.returnValue = false;
        return false;
      });
    });
  </script>
{% endblock %}
{% block body %}
  <body onload="zoom()">
  <h2>Add a new schedule</h2>
  <p>
  <form action="" method=post>
    <dl class=formlist>
      <table>
        <tr>
          <td>Name:</td>
          <td><input type=text name=name value="{{ request.form.name }}" size=40></td>
        </tr>
        <tr>
          <td>Select target WiFiDomo::</td>
          <td>
            <select name=target_wifidomo>
            {% for entry in wifidomo_list %}
              <option value={{ entry['wifidomo_id'] }}>{{ entry['wifidomo_name'] }}</option>
            {% endfor %}
            </select>
          </td>
        </tr>
        <tr>
          <td>Select required Preset:</td>
          <td>
            <select name=target_preset>
            {% for entry in preset_list %}
              <option {% if entry['preset_id'] == preset_list.preset_id %} selected {% endif %}
                  value={{ entry['preset_id'] }}>{{ entry['preset_name'] }}</option>
            {% endfor %}
            </select>
          </td>
        </tr>
        <tr>
          <td>Start hour:</td>
          <td><input type=int name=start_hr value="{{ request.form.start_hr }}" size=10></td>
        </tr>
        <tr>
          <td>Start minute:</td>
          <td><input type=int name=start_min value="{{ request.form.start_min }}" size=10></td>
        </tr>
        <tr>
          <td>Stop hour:</td>
          <td><input type=int name=stop_hr value="{{ request.form.stop_hr }}" size=10></td>
        </tr>
        <tr>
          <td>Stop minute:</td>
          <td><input type=int name=stop_min value="{{ request.form.stop_min }}" size=10></td>
        </tr>
      </table>
    </dl>
    <fieldset class="days">
      <legend>Day(s) of Week</legend>
      <label for="monday">
        <input type="checkbox" id="monday" value="1" name="monday"/>Mo
      </label>
      <label for="tuesday">
        <input type="checkbox" id="tuesday" value="1" name="tuesday" />Tu
      </label>
      <label for="wednesday">
        <input type="checkbox" id="wednesday" value="1" name="wednesday" />We
      </label>
      <label for="thursday">
        <input type="checkbox" id="thursday" value="1" name="thursday" />Th
      </label>
      <label for="friday">
        <input type="checkbox" id="friday" value="1" name="friday" />Fr
      </label>
      <label for="saturday">
        <input type="checkbox" id="saturday" value="1" name="saturday" />Sa
      </label>
      <label for="sunday">
        <input type="checkbox" id="sunday" value="1" name="sunday" />Su
      </label>
    </fieldset>
    <fieldset class="days">
      <legend>Custom cron string:</legend>
      <label for="crontstring">
        <input type="text" id="crontstring" name="crontstring" value="{{ request.form.crontstring }}" />
      </label>
    </fieldset>
    <div class="days">
      <input type=submit name=submit value=Submit>
      <input type=submit name=cancel value=Cancel>
    </div>
  </form>
{% endblock %}